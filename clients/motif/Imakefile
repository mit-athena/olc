#
# $Header: /afs/dev.mit.edu/source/repository/athena/bin/olc/clients/motif/Imakefile,v 1.10 1991-09-10 14:45:10 lwvanels Exp $
# $Author: lwvanels $
#
# For copying and distribution information,
# please see the file <mit-copyright.h>.
#
#

/*#define Profiling*/

#ifdef Profiling
LIBSUFFIX=_p
EXTRA_LOAD_FLAGS=-pg
#endif

SRCS=		main.c procs.c \
		x_ask.c x_instance.c x_motd.c x_resolve.c \
		x_send.c x_topic.c x_utils.c Cursor.c \
		callback.c \
		MriRegAll.c WcmReg.c WcmName.c WcmCreate.c WcmCallb.c \
		WcmRegXt.c WcmConvert.c WcmActions.c
OBJS=		main.o procs.o \
		x_ask.o x_instance.o x_motd.o x_resolve.o \
		x_send.o x_topic.o x_utils.o Cursor.o \
		callback.o \
		MriRegAll.o WcmReg.o WcmName.o WcmCreate.o WcmCallb.o \
		WcmRegXt.o WcmConvert.o WcmActions.o

#if DoUsageLog
LOCAL_LIBRARIES= $(CLIENTLIB) $(COMMONLIB) $(LOGGERLIB)
#else
LOCAL_LIBRARIES= $(CLIENTLIB) $(COMMONLIB)
#endif

SYS_LIBRARIES  =  $(HesiodLib) $(ComErrLib) $(KerberosLib) \
		  $(MotifUtilLib) $(MotifResLib) $(MotifLib) \
		  $(MotifToolLib) $(XLib) 
DEPLIBS= $(LOCAL_LIBRARIES)
#ifdef InstallAltLoc
DEFINES=-DSA_LOC=\"/usr/athena/bin/xbrowser\" -DMOTIF -DMOTIF_MINOR=0
#else
DEFINES=-DSA_LOC=\"/usr/athena/xbrowser\" -DMOTIF -DMOTIF_MINOR=0
#endif
INCLUDES = -I/mit/motif/include

NormalProgramTarget(xolc,$(OBJS),$(LOCAL_LIBRARIES),$(LOCAL_LIBRARIES),$(SYS_LIBRARIES))
SaberProgramTarget(xolc,$(SRCS),$(OBJS),$(LOCAL_LIBRARIES),$(SYS_LIBRARIES))

#ifdef InstallAltLoc
InstallProgram(xolc,$(DESTDIR)/usr/athena/bin)
InstallNonExec(Xolc,$(DESTDIR)/usr/athena/lib/X11/app-defaults)
#else
InstallProgram(xolc,$(DESTDIR)/usr/athena)
InstallNonExec(Xolc,$(DESTDIR)/usr/lib/X11/app-defaults)
#endif

DependTarget()
LintTarget()

AllTarget(xolc)
