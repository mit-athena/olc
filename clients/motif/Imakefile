#
# $Header: /afs/dev.mit.edu/source/repository/athena/bin/olc/clients/motif/Imakefile,v 1.11 1992-01-07 18:43:32 lwvanels Exp $
# $Author: lwvanels $
#
# For copying and distribution information,
# please see the file <mit-copyright.h>.
#
#

/*#define Profiling*/

#ifdef Profiling
LIBSUFFIX=_p
EXTRA_LOAD_FLAGS=-pg
#endif

SRCS=		main.c procs.c visual.c \
		x_ask.c x_instance.c x_motd.c x_resolve.c \
		x_send.c x_topic.c x_utils.c Cursor.c
OBJS=		main.o procs.o visual.o \
		x_ask.o x_instance.o x_motd.o x_resolve.o \
		x_send.o x_topic.o x_utils.o Cursor.o

#if DoUsageLog
LOCAL_LIBRARIES= $(CLIENTLIB) $(COMMONLIB) $(LOGGERLIB)
#else
LOCAL_LIBRARIES= $(CLIENTLIB) $(COMMONLIB)
#endif

SYS_LIBRARIES  =  $(HesiodLib) $(ComErrLib) $(KerberosLib) \
		  $(MotifUtilLib) $(MotifResLib) $(MotifLib) \
                  $(MotifToolLib) $(XLib) 
DEPLIBS= $(LOCAL_LIBRARIES)
#ifdef InstallAltLoc
DEFINES=-DSA_LOC=\"/usr/athena/bin/xbrowser\"
#else
DEFINES=-DSA_LOC=\"/usr/athena/xbrowser\"
#endif
INCLUDES = -I/mit/motif/include

Xolc: Xolc.cpp
	$(RM) Xolc
	$(CPP) -P Xolc.cpp > Xolc

NormalProgramTarget(xolc,$(OBJS),$(LOCAL_LIBRARIES),$(LOCAL_LIBRARIES),$(SYS_LIBRARIES))
SaberProgramTarget(xolc,$(SRCS),$(OBJS),$(LOCAL_LIBRARIES),$(SYS_LIBRARIES))

#ifdef InstallAltLoc
InstallProgram(xolc,$(DESTDIR)/usr/athena/bin)
InstallNonExec(Xolc,$(DESTDIR)/usr/athena/lib/X11/app-defaults)
#else
InstallProgram(xolc,$(DESTDIR)/usr/athena)
InstallNonExec(Xolc,$(DESTDIR)/usr/lib/X11/app-defaults)
#endif

DependTarget()
LintTarget()

clean::
	$(RM) Xolc

AllTarget(xolc Xolc)
