/*
 * $Id: Imakefile,v 1.18 1999-01-22 23:14:47 ghudson Exp $
 * Copyright (C) 1991 by the Massachusetts Institute of Technology.
 * For copying and distribution information, see the file "mit-copyright.h".
 */

/* #define Profiling */

#ifdef Profiling
LIBSUFFIX=_p
EXTRA_LOAD_FLAGS=-pg
#endif

SRCS=	rpd.c fdcache.c handle_request.c io.c acl_files.c get_nm.c

OBJS=	rpd.o fdcache.o handle_request.o io.o acl_files.o get_nm.o

#ifdef Profiling
DEFINES= -DPROFILE
.c.o:
	$(CC) -pg -c $(CFLAGS) $*.c
#else
DEFINES=
#endif /* Profiling */


SYSTEM_LIBRARIES=	$(KerberosLib)

NormalProgramTarget(rpd,$(OBJS),,$(SYSTEM_LIBRARIES),)

SaberProgramTarget(rpd,$(SRCS),$(OBJS),$(SYSTEM_LIBRARIES),)

depend: Makefile
	$(DEPEND) -s "# DO NOT DELETE" -- $(ALLDEFINES) $(SRCS)

LintTarget()

#ifdef InstallAltLoc
InstallProgram(rpd,$(DESTDIR)/usr/athena/etc)
#else
InstallProgram(rpd,$(DESTDIR)/usr/etc)
#endif

AllTarget(rpd)
